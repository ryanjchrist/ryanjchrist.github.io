<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Altimeter System - Ryan Christ</title>
    <link rel="stylesheet" href="../styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <a href="../index.html" class="nav-logo">Ryan Christ</a>
            <ul class="nav-menu">
                <li><a href="../index.html" class="nav-link">Home</a></li>
                <li><a href="../about.html" class="nav-link">About</a></li>
                <li><a href="../experience.html" class="nav-link">Experience</a></li>
                <li><a href="../projects.html" class="nav-link active">Projects</a></li>
                <li><a href="../skills.html" class="nav-link">Skills</a></li>
                <li><a href="../contact.html" class="nav-link">Contact</a></li>
            </ul>
            <div class="hamburger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </nav>

    <!-- Project Header -->
    <section class="project-header">
        <div class="container">
            <a href="../projects.html" class="back-link">← Back to Projects</a>
            <h1>Altimeter System</h1>
            <p class="project-meta">
                <span class="project-tag">Electronics</span>
                <span class="project-tag">CAD</span>
                <span class="project-tag">Drones</span>
            </p>
            <p class="project-date">October 2024</p>
        </div>
    </section>

    <!-- Project Hero Image -->
    <section class="project-hero-image">
        <div class="container">
            <img src="../assets/images/SkydioAlt.jpeg" alt="Altimeter System">
        </div>
    </section>

    <!-- Project Content -->
    <section class="section">
        <div class="container">
            <div class="project-content">
                <div class="project-main">
                    <h2>Context</h2>
                    <p>One of the concerns my team and I identified involved the imprecision of drone altimeters. Altimeter precision is crucial for accurately identifying the height of elephants. As the drone flies over an elephant, we should be able to detect a change in altimeter height, which will later be used for more accurate body conditioning.</p>

                    <h2>Solution</h2>
                    <p>To address this issue, I have been working with Julian Dale, a Duke Project Engineer and Director of O3ST, to redesign their existing altimeter system. This includes reducing the overall size and production costs of their current model. I have switched the larger Grove GPS with a much more compact GP1818MK. I have also developed support for a new LW20 rangefinder for higher accuracy at greater altitudes. This altimeter works right over our I2C protocol and enhances the drone's altitude tracking without disrupting the overall system.</p>

                    <p>In addition to the altimeter update, I introduced a new feature that logs vertical altitude in the system's data logs. This was achieved by using the gravitational acceleration readings from the IMU while compensating for the drone's tilt angle. However, during testing, we noticed variations in the tilt angle reading. When going through extreme movements while attached to the gimbal, the log file was recording tilt angles of up to 14 degrees. However, the output from the IMU on the gimbal was only fluctuating by ~0.02 degrees, and it was confirmed visually that it was not reaching a 14-degree tilt angle. I observed that acceleration values from the drone were influencing the tilt calculation, likely due to vibrations. To solve this issue, I implemented a 1D Kalman Filter, combining acceleration trigonometry with gyroscope integration to eliminate noise.</p>

                    <p>I also updated log filenames to use time/date stamps instead of the old sequential numbering method.</p>

                    <h2>Additional Improvements</h2>
                    <ul>
                        <li>Adding a code switch to log data every 1 sec or via hot shoe trigger logging at a 15Hz shutter speed</li>
                        <li>Incorporating a smaller Arduino in our design</li>
                        <li>Adding a cheaper IMU module with an enable/disable option in the code</li>
                    </ul>

                    <h2>Key Achievements</h2>
                    <ul>
                        <li>Improved altimeter accuracy to ±1 cm</li>
                        <li>Redesigned housing in SolidWorks for seamless drone integration</li>
                        <li>Implemented Kalman filtering for noise reduction</li>
                        <li>Created custom PCBs in KiCad to simplify sensor integration</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- Image Gallery -->
    <section class="section section-alt">
        <div class="container">
            <h2 class="section-title">Gallery</h2>
            <div class="project-gallery">
                <div class="gallery-item">
                    <img src="../assets/images/O3STAltimeter.jpg" alt="Altimeter System" onclick="openLightbox(this)">
                </div>
                <div class="gallery-item">
                    <img src="../assets/images/AltWiring.png" alt="Wiring Diagram" onclick="openLightbox(this)">
                </div>
                <div class="gallery-item">
                    <img src="../assets/images/AltimeterCode1.png" alt="Code" onclick="openLightbox(this)">
                </div>
                <div class="gallery-item">
                    <img src="../assets/images/SkydioAlt.jpeg" alt="Skydio Drone" onclick="openLightbox(this)">
                </div>
                <div class="gallery-item">
                    <img src="../assets/images/DroneAlt.jpg" alt="Drone Altimeter" onclick="openLightbox(this)">
                </div>
            </div>
        </div>
    </section>

    <!-- Lightbox Modal -->
    <div id="lightbox" class="lightbox" onclick="closeLightbox()">
        <span class="lightbox-close">&times;</span>
        <img class="lightbox-content" id="lightbox-img">
        <div class="lightbox-caption"></div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p>&copy; 2025 Ryan Christ. All rights reserved.</p>
        </div>
    </footer>

    <script src="../script.js"></script>
    <script>
        function openLightbox(img) {
            const lightbox = document.getElementById('lightbox');
            const lightboxImg = document.getElementById('lightbox-img');
            lightbox.style.display = 'flex';
            lightboxImg.src = img.src;
            lightboxImg.alt = img.alt;
        }

        function closeLightbox() {
            document.getElementById('lightbox').style.display = 'none';
        }

        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeLightbox();
            }
        });
    </script>
</body>
</html>

